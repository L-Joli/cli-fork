name: GitHub Release
description: Create a GitHub release and publish to NPM

inputs:
  github-token:
    required: true
    description: 'The GitHub token to use for authentication'
  draft:
    required: false
    description: 'Whether to create a draft (unpublished) release'
    default: 'true'
  prerelease:
    required: false
    description: 'Whether to create a prerelease release'
    default: 'true'

runs:
  using: 'composite'
  steps:
    - name: Create GitHub Release
      uses: DevCycleHQ/release-action/gh-release@main
      with:
        draft: ${{ inputs.draft }}
        prerelease: ${{ inputs.prerelease }}
        github-token: ${{ inputs.github-token }}

    # - name: Publish to NPM
    #   shell: bash
    #   env:
    #     NODE_AUTH_TOKEN: ${{ secrets.NPMJS_ACCESS_TOKEN }}
    #   run: npm publish --access public
